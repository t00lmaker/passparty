<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>

<div class="justify-content-between mb-4">
  <h1 class="d-inline-block mr-3">Guest List</h1>
  <a href="/guest" class="btn btn-primary"><i class="bi-person-plus"></i> Adicionar Convidado</a>
  <a href="/guests/import" class="btn btn-primary"><i class="bi-box-arrow-in-down"></i> Importar Lista</a>
  <a href="/guests/export" class="btn btn-primary"><i class="bi-box-arrow-down"></i> Exportar Lista</a>
</div>

<style>
.table-striped>tbody>tr:nth-child(odd)>td, 
.table-striped>tbody>tr:nth-child(odd)>th {
   background-color: rgba(10, 173, 254, 0.08);
 }
</style>
<table id="guestTable" class="table table-striped">
  <thead class="thead">
    <tr>
      <th scope="col">Activo</th>
      <th scope="col">Name</th>
      <th scope="col">Email</th>
      <th scope="col">Phone</th>
      <th scope="col">Has Children</th>
      <th scope="col">Is Active</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @guests.each do |guest| %>
      <tr>
        <td>
          <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="customSwitch<%= guest.id %>" <%= 'checked' if guest.is_active %> onclick="window.location.href='/guests/<%= guest.id %>/disable'">
            <label class="custom-control-label" for="customSwitch<%= guest.id %>"></label>
          </div>
        </td>
        <td><%= guest.name %></td>
        <td><%= guest.email %></td>
        <td><%= guest.phone %></td>
        <td><%= guest.has_children ? 'Yes' : 'No' %></td>
        <td><%= guest.is_active ? 'Yes' : 'No' %></td>
        <td>
          <a href="/guests/<%= guest.id %>" class="btn btn-info btn-sm"><i class="bi-eye"></i> Show</a>
          <a href="/guests/<%= guest.id %>/edit" class="btn btn-warning btn-sm"><i class="bi-pencil"></i> Edit</a>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<script>

$(document).ready( function () {
    $('#guestTable').DataTable({
        "pageLength": 25,
        language: {
          url: '//cdn.datatables.net/plug-ins/1.10.25/i18n/Portuguese.json'
        }
    });
} );
</script>